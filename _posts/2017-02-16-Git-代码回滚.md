---
layout:     post
title:      Git 代码回滚
subtitle:   回滚代码的正确姿势
date:       2017-02-16
author:     BY
header-img: img/post-bg-debug.png
catalog: true
tags:
    - Mac
    - 终端
    - Git
---




#### 坑1：env: bash\r: No such file or directory

原因：  脚本文件的格式问题  
vi android/gradlew , set ff=unix

#### 坑2：时间不同步   

adb shell date -s $(date +%Y%m%d.%H%M%S)

	


adb shell date -s $(date +%Y%m%d.%H%M%S)

#### 可以吃的后悔药->版本穿梭

当你回滚之后，又后悔了，想恢复到新的版本怎么办？

用`git reflog`打印你记录你的每一次操作记录

	$ git reflog
	
	输出：
	c7edbfe HEAD@{0}: reset: moving to c7edbfefab1bdbef6cb60d2a7bb97aa80f022687
	470e9c2 HEAD@{1}: reset: moving to 470e9c2
	b45959e HEAD@{2}: revert: Revert "add img"
	470e9c2 HEAD@{3}: reset: moving to 470e9c2
	2c26183 HEAD@{4}: reset: moving to 2c26183
	0f67bb7 HEAD@{5}: revert: Revert "add img"
	
找到你操作的id如：`b45959e`，就可以回退到这个版本
	
	$ git reset --hard b45959e
	


